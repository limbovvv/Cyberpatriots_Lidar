# Содержимое папки: app/frontend/src/render

Файлы:
- `PointCloudEditor.tsx` — основной React‑компонент редактора облака точек, объединяет сцену, загрузку тайлов и инструменты.
- `cameraControls.ts` — инициализация сцены Three.js, камеры и OrbitControls; кастомный шейдер для точек и пауза управления камерой во время мазков кистью (`pcd-brush-start`/`pcd-brush-end`). Управляет размером вьюпорта (ResizeObserver + window resize), отключает контекст‑меню и настраивает навигацию: ПКМ панорамирует сцену, а при зажатом Shift или Ctrl вращает камеру.
- `cameraInit.ts` — эвристическая начальная поза камеры по статистике облака (PCA/квантили) и настройка дальности.
- `rendering.ts` — вспомогательные функции рендера: отложенный рендеринг, синхронизация цветов/атрибутов, общий `applyBaseColor()` для вычисления цвета точки (используется и в `tools.ts`).
- `tilesLoader.ts` — загрузка/парсинг бинарных тайлов, заполнение буферов, вычисление drawRange, фит камеры к данным.
- `tools.ts` — обработка взаимодействий кистью (удаление/восстановление), изменение цветов и выделения, уведомление сцены о начале/завершении мазка.

Дедупликация логики (важно):
- Управление OrbitControls, размеры канваса и запрет контекст‑меню сосредоточены в `cameraControls.ts` (соответствующие эффекты удалены из `PointCloudEditor.tsx`).
- Порог Raycaster теперь вычисляется в `tools.ts` с учётом дистанции до цели камеры (ранее частично настраивался в редакторе).
- Вычисление цветового атрибута вынесено в `rendering.applyBaseColor()` и используется как рендер‑потоком, так и инструментами.
- `types.ts` — общие типы и константы редактора (буферы, коды инструментов, цвета, лимиты).

UI редактора:
 - Инструменты расположены в глобальном левом доке приложения (`.left-dock`) на уровне оболочки App (иконки + подсказки).
 - Параметры выбранного инструмента (например, радиус кисти) находятся в панели `.tool-options` под верхним меню.
 - Инспектор справа был удалён; сессии/экспорт — в меню «Файл», сброс/применение — в «Правка», отображение — в «Вид».
 - На сцене визуализируется курсор кисти: оранжевый диск/контур, повторяющий радиус и позицию луча по данным.
